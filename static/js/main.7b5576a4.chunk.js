(this["webpackJsonptexting-ff-helper"]=this["webpackJsonptexting-ff-helper"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),s=a.n(c),o=(a(96),a(11)),l=(a(97),a(98),a(15)),i=a(168),u=a(173),j=a(174),d=a(164),h=a(179),b=a(180),O=(a(99),a(1)),f=function(e){var t=e.setTotalUsers,a=e.totalUsers,r=Object(n.useState)(!1),c=Object(o.a)(r,2),s=c[0],f=c[1],x=Object(n.useState)(""),p=Object(o.a)(x,2),m=p[0],g=p[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return f(!0)},children:"Add User"}),Object(O.jsxs)(i.a,{onClose:function(){return f(!1)},open:s,className:"addUserDialog",children:[Object(O.jsx)(u.a,{children:"Add a new name to update the list of total users in the story!"}),Object(O.jsx)(j.a,{children:Object(O.jsx)(d.a,{onChange:function(e){g(e.target.value)},value:m,placeholder:"Add New Name Here",autoFocus:!0,margin:"dense",id:"user",label:"User Name",fullWidth:!0,variant:"standard"})}),Object(O.jsx)(h.a,{children:Object(O.jsx)(b.a,{onClick:function(){if(m){var e={name:m};t([].concat(Object(l.a)(a),[e]))}g(""),f(!1)},children:"Submit"})})]})]})},x=a(3),p=a(39),m=(a(106),a(182)),g=(a(107),a(27)),v=a(177),C=a(165),N=a(160),U=a(170),S=a(181),y=a(171),k=a(166),F={PaperProps:{style:{maxHeight:224,width:250}}};function w(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}var D=function(e){var t=e.totalUsers,a=e.groupUsers,n=e.setGroupUsers,r=Object(g.a)();return Object(O.jsxs)(v.a,{sx:{m:1,width:300},children:[Object(O.jsx)(C.a,{id:"user-select-label",children:"Users"}),Object(O.jsx)(N.a,{labelId:"user-select-label",id:"user-select",multiple:!0,value:a,onChange:function(e){var t=e.target.value;n("string"===typeof t?t.split(","):t)},input:Object(O.jsx)(U.a,{id:"select-multiple-chip",label:"Chip"}),renderValue:function(e){return Object(O.jsx)(S.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(O.jsx)(y.a,{label:e},e)}))})},MenuProps:F,children:t.map((function(e){return Object(O.jsx)(k.a,{value:e.name,style:w(e.name,a,r),children:e.name},e.name)}))})]})},T=(a(108),function(e){var t=e.groupCreator,a=e.setGroupCreator,n=e.groupUsers;return Object(O.jsxs)(v.a,{variant:"standard",sx:{m:1,minWidth:120},children:[Object(O.jsx)(C.a,{id:"group-creator-label",children:"Group Creator"}),Object(O.jsx)(N.a,{labelId:"group-creator-label",id:"group-creator",value:t,onChange:function(e){a(e.target.value)},label:"Group Creator",children:n.map((function(e){return Object(O.jsx)(k.a,{value:e,children:e},e)}))})]})}),H=function(e){var t=e.chats,a=e.setChats,r=e.totalUsers,c=Object(n.useState)(!1),s=Object(o.a)(c,2),u=s[0],f=s[1],g=Object(n.useState)([]),v=Object(o.a)(g,2),C=v[0],N=v[1],U=Object(n.useState)(""),S=Object(o.a)(U,2),y=S[0],k=S[1],F=Object(n.useState)(""),w=Object(o.a)(F,2),H=w[0],W=w[1],A=r.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},t.name,t))}),{}),P=""!==H&&""!==y&&C.length>0;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return f(!0)},disabled:r.length<1,children:"New Chat"}),Object(O.jsxs)(i.a,{onClose:function(){return f(!1)},open:u,className:"addChatDialog",children:[Object(O.jsxs)(j.a,{className:"dialogContent",children:[Object(O.jsx)(m.a,{children:"Add users, give it a name, and begin a new chat!"}),Object(O.jsx)(d.a,{onChange:function(e){W(e.target.value)},value:H,placeholder:"Set Group Name Here",autoFocus:!0,margin:"dense",id:"group",label:"Group Name",fullWidth:!0,variant:"standard"}),Object(O.jsx)(D,{totalUsers:r,groupUsers:C,setGroupUsers:N}),C.length>0&&Object(O.jsx)(T,{groupCreator:y,setGroupCreator:k,groupUsers:C})]}),Object(O.jsxs)(h.a,{children:[Object(O.jsx)(b.a,{onClick:function(){if(C.length>0&&H&&y){var e={groupName:H,users:C.map((function(e){return A[e]})),creator:A[y],messages:[{text:"".concat(H," created by ").concat(y)}]};a([].concat(Object(l.a)(t),[e])),k(""),W(""),N([])}f(!1)},disabled:!P,children:"Submit"}),Object(O.jsx)(b.a,{onClick:function(){k(""),W(""),N([]),f(!1)},children:"Cancel"})]})]})]})},W=(a(109),a(178)),A=a(163),P=a(159),I=function(e){var t=e.totalUsers,a=e.chats,r=Object(n.useState)(!1),c=Object(o.a)(r,2),s=c[0],l=c[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return l(!0)},disabled:t.length<1,children:"See Total Users"}),Object(O.jsxs)(i.a,{onClose:function(){return l(!1)},open:s,className:"userListModal",children:[Object(O.jsx)(u.a,{children:"All Users"}),Object(O.jsx)(j.a,{className:"dialogContent",children:Object(O.jsx)(W.a,{children:t.map((function(e){var t=a.filter((function(t){return t.users.map((function(e){return e.name})).includes(e.name)})).length;return Object(O.jsx)(A.a,{children:Object(O.jsx)(P.a,{primary:e.name,secondary:"Active user in ".concat(t," chats")})},e.name)}))})}),Object(O.jsx)(h.a,{children:Object(O.jsx)(b.a,{onClick:function(){return l(!1)},children:"Close"})})]})]})},G=a(46),B=a.n(G),L=a(67),M="https://us-east-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/text-ff-backend-forai/service/data-retrieval/incoming_webhook",J=function(){var e=Object(L.a)(B.a.mark((function e(t){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,fetch("".concat(M,"/get-chapter"),{method:"POST",body:JSON.stringify({chapterId:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n.chapters||[]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(L.a)(B.a.mark((function e(t,a,n,r){var c,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&a&&n.length)){e.next=8;break}return e.next=3,fetch("".concat(M,"/post-chapter"),{method:"POST",body:JSON.stringify({chapterId:t,author:a,users:n,chats:r})});case 3:return c=e.sent,e.next=6,c.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),R=(a(111),function(e){var t=e.setTotalUsers,a=e.setChats,r=Object(n.useState)(!1),c=Object(o.a)(r,2),s=c[0],l=c[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),p=x[0],m=x[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return l(!0)},children:"Load Data"}),Object(O.jsxs)(i.a,{onClose:function(){return l(!1)},open:s,className:"loadDataDialog",children:[Object(O.jsx)(u.a,{children:"Type in Chapter Name to Load Data"}),Object(O.jsx)(j.a,{children:Object(O.jsx)(d.a,{onChange:function(e){m(e.target.value)},value:p,placeholder:"Chapter Name Here",autoFocus:!0,margin:"dense",id:"chapter",label:"Chapter Name",fullWidth:!0,variant:"standard"})}),Object(O.jsxs)(h.a,{children:[p&&Object(O.jsx)(b.a,{onClick:function(){J(p).then((function(e){e.length>0&&(t(e[0].users),a(e[0].chats))})).then((function(){m(""),l(!1)}))},children:"Load Data"}),Object(O.jsx)(b.a,{onClick:function(){return l(!1)},children:"Cancel"})]})]})]})}),V=(a(112),function(e){var t=e.totalUsers,a=e.chats,r=Object(n.useState)(!1),c=Object(o.a)(r,2),s=c[0],l=c[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),p=x[0],m=x[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),C=v[0],N=v[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return l(!0)},children:"Save Data"}),Object(O.jsxs)(i.a,{onClose:function(){return l(!1)},open:s,className:"loadDataDialog",children:[Object(O.jsx)(u.a,{children:"Fill in Chapter Name and Author to Save"}),Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{onChange:function(e){m(e.target.value)},value:p,placeholder:"Chapter Name Here",autoFocus:!0,margin:"dense",id:"chapter",label:"Chapter Name",fullWidth:!0,variant:"standard"}),Object(O.jsx)(d.a,{onChange:function(e){N(e.target.value)},value:C,placeholder:"Author Name Here",autoFocus:!0,margin:"dense",id:"author",label:"Author Name",fullWidth:!0,variant:"standard"})]}),Object(O.jsxs)(h.a,{children:[p&&C&&Object(O.jsx)(b.a,{onClick:function(){E(p,C,t,a).then((function(e){console.log(e)})).then((function(){m(""),N(""),l(!1)}))},children:"Load Data"}),Object(O.jsx)(b.a,{onClick:function(){return l(!1)},children:"Cancel"})]})]})]})}),K=function(e){var t=e.title,a=e.chats,n=e.setChats,r=e.totalUsers,c=e.setTotalUsers;return Object(O.jsxs)("div",{className:"header",children:[t||"Header Here",Object(O.jsx)(H,{chats:a,setChats:n,totalUsers:r}),Object(O.jsx)(f,{totalUsers:r,setTotalUsers:c}),Object(O.jsx)(I,{totalUsers:r,chats:a}),Object(O.jsx)(R,{setChats:n,setTotalUsers:c}),Object(O.jsx)(V,{totalUsers:r,chats:a})]})},Y=(a(113),function(e){var t=e.title;return Object(O.jsx)("div",{className:"footer",children:t||"Footer Here"})}),_=(a(114),a(115),function(){return Object(O.jsx)("div",{className:"displaySection",children:"Display Section Here"})}),q=(a(116),a(117),a(118),function(e){var t=e.currentUser,a=e.setCurrentUser,n=e.chatUsers,r=n.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},t.name,t))}),{});return Object(O.jsx)("div",{children:Object(O.jsxs)(v.a,{fullWidth:!0,children:[Object(O.jsx)(C.a,{id:"select-user-label",children:"User"}),Object(O.jsx)(N.a,{labelId:"select-user-label",id:"select-user",value:t.name,label:"User",onChange:function(e){a(r[e.target.value])},children:n.map((function(e){return Object(O.jsx)(k.a,{value:e.name,children:e.name},e.name)}))})]})})}),z=function(e){var t=e.chat,a=(e.totalUsers,Object(n.useState)(t.users[0])),r=Object(o.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),j=u[0],d=u[1],h=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t.messages.length]),Object(O.jsxs)("div",{className:"singleChat",children:[Object(O.jsx)("div",{className:"groupName",children:t.groupName}),Object(O.jsxs)("div",{className:"chatMessages",children:[t.messages.map((function(e,a){var n,r=(null===(n=e.sender)||void 0===n?void 0:n.name)?"".concat(e.sender.name,": "):"";return Object(O.jsx)("div",{className:"chatMessage",children:"".concat(r).concat(e.text)},"".concat(t.groupName,"-").concat(a))})),Object(O.jsx)("div",{ref:h})]}),Object(O.jsxs)("div",{className:"chatInputWrapper",children:[Object(O.jsx)(U.a,{placeholder:"Message Here",value:j,onChange:function(e){d(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(t.messages=[].concat(Object(l.a)(t.messages),[{text:j,sender:c}]),d(""),e.preventDefault())}}),Object(O.jsx)(q,{chatUsers:t.users,currentUser:c,setCurrentUser:s})]})]})},Q=function(e){var t=e.chats,a=e.totalUsers;return Object(O.jsx)("div",{className:"chatPages",children:t.length>0?t.map((function(e){return Object(O.jsx)(z,{chat:e,totalUsers:a},e.groupName)})):"No Chats Available"})},X=function(e){var t=e.chats,a=e.totalUsers;return Object(O.jsxs)("div",{className:"basePage",children:[Object(O.jsx)(_,{}),Object(O.jsx)(Q,{chats:t,totalUsers:a})]})};var Z=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),l=s[0],i=s[1];return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(K,{title:"Texing FF Helper",setChats:r,chats:a,totalUsers:l,setTotalUsers:i}),Object(O.jsx)(X,{chats:a,totalUsers:l}),Object(O.jsx)(Y,{title:"Created by Yours Truly"})]})},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,183)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Z,{})}),document.getElementById("root")),$()},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.7b5576a4.chunk.js.map