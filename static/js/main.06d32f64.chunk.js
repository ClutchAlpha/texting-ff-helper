(this["webpackJsonptexting-ff-helper"]=this["webpackJsonptexting-ff-helper"]||[]).push([[0],{100:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),c=a.n(r),o=(a(97),a(11)),i=(a(98),a(99),a(15)),l=a(170),u=a(175),j=a(176),d=a(166),h=a(181),b=a(182),O=(a(100),a(1)),f=function(e){var t=e.setTotalUsers,a=e.totalUsers,s=Object(n.useState)(!1),r=Object(o.a)(s,2),c=r[0],f=r[1],x=Object(n.useState)(""),p=Object(o.a)(x,2),m=p[0],g=p[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return f(!0)},children:"Add User"}),Object(O.jsxs)(l.a,{onClose:function(){return f(!1)},open:c,className:"addUserDialog",children:[Object(O.jsx)(u.a,{children:"Add a new name to update the list of total users in the story!"}),Object(O.jsx)(j.a,{children:Object(O.jsx)(d.a,{onChange:function(e){g(e.target.value)},value:m,placeholder:"Add New Name Here",autoFocus:!0,margin:"dense",id:"user",label:"User Name",fullWidth:!0,variant:"standard"})}),Object(O.jsx)(h.a,{children:Object(O.jsx)(b.a,{onClick:function(){if(m){var e={name:m};t([].concat(Object(i.a)(a),[e]))}g(""),f(!1)},children:"Submit"})})]})]})},x=a(3),p=a(39),m=(a(107),a(184)),g=(a(108),a(27)),v=a(179),C=a(167),N=a(162),U=a(172),S=a(183),y=a(173),k=a(168),F={PaperProps:{style:{maxHeight:224,width:250}}};function w(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}var D=function(e){var t=e.totalUsers,a=e.groupUsers,n=e.setGroupUsers,s=Object(g.a)();return Object(O.jsxs)(v.a,{sx:{m:1,width:300},children:[Object(O.jsx)(C.a,{id:"user-select-label",children:"Users"}),Object(O.jsx)(N.a,{labelId:"user-select-label",id:"user-select",multiple:!0,value:a,onChange:function(e){var t=e.target.value;n("string"===typeof t?t.split(","):t)},input:Object(O.jsx)(U.a,{id:"select-multiple-chip",label:"Chip"}),renderValue:function(e){return Object(O.jsx)(S.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(O.jsx)(y.a,{label:e},e)}))})},MenuProps:F,children:t.map((function(e){return Object(O.jsx)(k.a,{value:e.name,style:w(e.name,a,s),children:e.name},e.name)}))})]})},T=(a(109),function(e){var t=e.groupCreator,a=e.setGroupCreator,n=e.groupUsers;return Object(O.jsxs)(v.a,{variant:"standard",sx:{m:1,minWidth:120},children:[Object(O.jsx)(C.a,{id:"group-creator-label",children:"Group Creator"}),Object(O.jsx)(N.a,{labelId:"group-creator-label",id:"group-creator",value:t,onChange:function(e){a(e.target.value)},label:"Group Creator",children:n.map((function(e){return Object(O.jsx)(k.a,{value:e,children:e},e)}))})]})}),H=function(e){var t=e.chats,a=e.setChats,s=e.totalUsers,r=Object(n.useState)(!1),c=Object(o.a)(r,2),u=c[0],f=c[1],g=Object(n.useState)([]),v=Object(o.a)(g,2),C=v[0],N=v[1],U=Object(n.useState)(""),S=Object(o.a)(U,2),y=S[0],k=S[1],F=Object(n.useState)(""),w=Object(o.a)(F,2),H=w[0],W=w[1],A=s.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},t.name,t))}),{}),M=""!==H&&""!==y&&C.length>0;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return f(!0)},disabled:s.length<1,children:"New Chat"}),Object(O.jsxs)(l.a,{onClose:function(){return f(!1)},open:u,className:"addChatDialog",children:[Object(O.jsxs)(j.a,{className:"dialogContent",children:[Object(O.jsx)(m.a,{children:"Add users, give it a name, and begin a new chat!"}),Object(O.jsx)(d.a,{onChange:function(e){W(e.target.value)},value:H,placeholder:"Set Group Name Here",autoFocus:!0,margin:"dense",id:"group",label:"Group Name",fullWidth:!0,variant:"standard"}),Object(O.jsx)(D,{totalUsers:s,groupUsers:C,setGroupUsers:N}),C.length>0&&Object(O.jsx)(T,{groupCreator:y,setGroupCreator:k,groupUsers:C})]}),Object(O.jsxs)(h.a,{children:[Object(O.jsx)(b.a,{onClick:function(){if(C.length>0&&H&&y){var e={groupName:H,users:C.map((function(e){return A[e]})),creator:A[y],messages:[{text:"".concat(H," created by ").concat(y)}]};a([].concat(Object(i.a)(t),[e])),k(""),W(""),N([])}f(!1)},disabled:!M,children:"Submit"}),Object(O.jsx)(b.a,{onClick:function(){k(""),W(""),N([]),f(!1)},children:"Cancel"})]})]})]})},W=(a(110),a(180)),A=a(165),M=a(161),I=function(e){var t=e.totalUsers,a=e.chats,s=Object(n.useState)(!1),r=Object(o.a)(s,2),c=r[0],i=r[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return i(!0)},disabled:t.length<1,children:"See Total Users"}),Object(O.jsxs)(l.a,{onClose:function(){return i(!1)},open:c,className:"userListModal",children:[Object(O.jsx)(u.a,{children:"All Users"}),Object(O.jsx)(j.a,{className:"dialogContent",children:Object(O.jsx)(W.a,{children:t.map((function(e){var t=a.filter((function(t){return t.users.map((function(e){return e.name})).includes(e.name)})).length;return Object(O.jsx)(A.a,{children:Object(O.jsx)(M.a,{primary:e.name,secondary:"Active user in ".concat(t," chats")})},e.name)}))})}),Object(O.jsx)(h.a,{children:Object(O.jsx)(b.a,{onClick:function(){return i(!1)},children:"Close"})})]})]})},P=a(46),G=a.n(P),B=a(67),L="https://us-east-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/text-ff-backend-forai/service/data-retrieval/incoming_webhook",J=function(){var e=Object(B.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,fetch("".concat(L,"/get-chapter"),{method:"POST",body:JSON.stringify({chapterId:t})});case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n.chapters||[]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(B.a)(G.a.mark((function e(t,a,n,s){var r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&a&&n.length)){e.next=8;break}return e.next=3,fetch("".concat(L,"/post-chapter"),{method:"POST",body:JSON.stringify({chapterId:t,author:a,users:n,chats:s})});case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),R=(a(112),function(e){var t=e.setTotalUsers,a=e.setChats,s=Object(n.useState)(!1),r=Object(o.a)(s,2),c=r[0],i=r[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),p=x[0],m=x[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return i(!0)},children:"Load Data"}),Object(O.jsxs)(l.a,{onClose:function(){return i(!1)},open:c,className:"loadDataDialog",children:[Object(O.jsx)(u.a,{children:"Type in Chapter Name to Load Data"}),Object(O.jsx)(j.a,{children:Object(O.jsx)(d.a,{onChange:function(e){m(e.target.value)},value:p,placeholder:"Chapter Name Here",autoFocus:!0,margin:"dense",id:"chapter",label:"Chapter Name",fullWidth:!0,variant:"standard"})}),Object(O.jsxs)(h.a,{children:[p&&Object(O.jsx)(b.a,{onClick:function(){J(p).then((function(e){e.length>0&&(t(e[e.length-1].users),a(e[e.length-1].chats))})).then((function(){m(""),i(!1)}))},children:"Load Data"}),Object(O.jsx)(b.a,{onClick:function(){return i(!1)},children:"Cancel"})]})]})]})}),V=(a(113),function(e){var t=e.totalUsers,a=e.chats,s=Object(n.useState)(!1),r=Object(o.a)(s,2),c=r[0],i=r[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),p=x[0],m=x[1],g=Object(n.useState)(""),v=Object(o.a)(g,2),C=v[0],N=v[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"addButton",onClick:function(){return i(!0)},children:"Save Data"}),Object(O.jsxs)(l.a,{onClose:function(){return i(!1)},open:c,className:"loadDataDialog",children:[Object(O.jsx)(u.a,{children:"Fill in Chapter Name and Author to Save"}),Object(O.jsxs)(j.a,{children:[Object(O.jsx)(d.a,{onChange:function(e){m(e.target.value)},value:p,placeholder:"Chapter Name Here",autoFocus:!0,margin:"dense",id:"chapter",label:"Chapter Name",fullWidth:!0,variant:"standard"}),Object(O.jsx)(d.a,{onChange:function(e){N(e.target.value)},value:C,placeholder:"Author Name Here",autoFocus:!0,margin:"dense",id:"author",label:"Author Name",fullWidth:!0,variant:"standard"})]}),Object(O.jsxs)(h.a,{children:[p&&C&&Object(O.jsx)(b.a,{onClick:function(){E(p,C,t,a).then((function(e){console.log(e)})).then((function(){m(""),N(""),i(!1)}))},children:"Load Data"}),Object(O.jsx)(b.a,{onClick:function(){return i(!1)},children:"Cancel"})]})]})]})}),K=function(e){var t=e.title,a=e.chats,n=e.setChats,s=e.totalUsers,r=e.setTotalUsers;return Object(O.jsxs)("div",{className:"header",children:[t||"Header Here",Object(O.jsx)(H,{chats:a,setChats:n,totalUsers:s}),Object(O.jsx)(f,{totalUsers:s,setTotalUsers:r}),Object(O.jsx)(I,{totalUsers:s,chats:a}),Object(O.jsx)(R,{setChats:n,setTotalUsers:r}),Object(O.jsx)(V,{totalUsers:s,chats:a})]})},Y=(a(114),function(e){var t=e.title;return Object(O.jsx)("div",{className:"footer",children:t||"Footer Here"})}),_=(a(115),a(116),function(){return Object(O.jsx)("div",{className:"displaySection",children:"Display Section Here"})}),q=(a(117),a(118),a(119),function(e){var t=e.currentUser,a=e.setCurrentUser,n=e.chatUsers,s=n.reduce((function(e,t){return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},t.name,t))}),{});return Object(O.jsx)("div",{children:Object(O.jsxs)(v.a,{fullWidth:!0,children:[Object(O.jsx)(C.a,{id:"select-user-label",children:"User"}),Object(O.jsx)(N.a,{labelId:"select-user-label",id:"select-user",value:t.name,label:"User",onChange:function(e){a(s[e.target.value])},children:n.map((function(e){return Object(O.jsx)(k.a,{value:e.name,children:e.name},e.name)}))})]})})}),z=(a(120),a(78)),Q=a.n(z),X=function(e){var t,a,n=e.message,s=e.index,r=e.chatUsers,c=e.groupName,o=r.findIndex((function(e){var t;return e.name===(null===(t=n.sender)||void 0===t?void 0:t.name)}))%2===0,i=(null===(t=n.sender)||void 0===t?void 0:t.name)?"".concat(n.sender.name,": "):"";return a=n.sender?o?"leftMessage":"rightMessage":"centerMessage",Object(O.jsx)("div",{className:Q()("chatMessage",a),children:Object(O.jsxs)("p",{className:"centerMessage"===a?"special":"",children:[i&&Object(O.jsx)("span",{className:"senderName",children:"".concat(i)}),n.text]})},"".concat(c,"-").concat(s))},Z=function(e){var t=e.chat,a=(e.totalUsers,Object(n.useState)(t.users[0])),s=Object(o.a)(a,2),r=s[0],c=s[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],h=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t.messages.length]),Object(O.jsxs)("div",{className:"singleChat",children:[Object(O.jsx)("div",{className:"groupName",children:t.groupName}),Object(O.jsxs)("div",{className:"chatMessages",children:[t.messages.map((function(e,a){return Object(O.jsx)(X,{message:e,index:a,chatUsers:t.users,groupName:t.groupName})})),Object(O.jsx)("div",{ref:h})]}),Object(O.jsxs)("div",{className:"chatInputWrapper",children:[Object(O.jsx)(U.a,{placeholder:"Message Here",value:j,onChange:function(e){d(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(t.messages=[].concat(Object(i.a)(t.messages),[{text:j,sender:r}]),d(""),e.preventDefault())}}),Object(O.jsx)(q,{chatUsers:t.users,currentUser:r,setCurrentUser:c})]})]})},$=function(e){var t=e.chats,a=e.totalUsers;return Object(O.jsx)("div",{className:"chatPages",children:t.length>0?t.map((function(e){return Object(O.jsx)(Z,{chat:e,totalUsers:a},e.groupName)})):"No Chats Available"})},ee=function(e){var t=e.chats,a=e.totalUsers;return Object(O.jsxs)("div",{className:"basePage",children:[Object(O.jsx)(_,{}),Object(O.jsx)($,{chats:t,totalUsers:a})]})};var te=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(o.a)(r,2),i=c[0],l=c[1];return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(K,{title:"Texing FF Helper",setChats:s,chats:a,totalUsers:i,setTotalUsers:l}),Object(O.jsx)(ee,{chats:a,totalUsers:i}),Object(O.jsx)(Y,{title:"Created by Yours Truly"})]})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(te,{})}),document.getElementById("root")),ae()},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.06d32f64.chunk.js.map